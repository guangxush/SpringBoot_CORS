<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $("#btn").click(function(){
                var user_id = $("#user_id").val();
                var url = "http://localhost:8080/operation/open/user/" + user_id;
                reqs(url);
            });

            function reqs(url){
                $.ajax({
                    url: url,
                    type: "get",
                    dataType: "json",
                    contentType: "application/json;charset=utf-8",
                    success: function (result, status) {
                        $("#name").text("数据：" + result['data'] + "\n状态：" + status);
                    },
                    error: function (result, status) {
                        $("#name").text("状态：" +status);
                    },
                });
            }

            $("#btn1").click(function () {
                $.get("http://localhost:8081/hello",function(data,status){
                    $("#test1").text("数据：" + data + "\n状态：" + status);
                });
            });

            $("#btn2").click(function () {
                $.get("http://localhost:8080/operation/another/hello",function(data,status){
                    $("#test2").text("数据：" + data + "\n状态：" + status);
                });
            });
        });
    </script>
</head>
<body>
<h4>用户信息查询</h4>

<div>
    <div class="form-group">
        <label class="col-sm-2 control-label">用户id</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" id="user_id" placeholder="请输入id">
        </div>
        <div class="col-sm-offset-2 col-sm-4">
            <button id="btn" class="btn btn-default">查询</button>
        </div>
        <div class="col-sm-offset-2 col-sm-10">
            <label class="btn btn-default">跨域请求结果:</label><br>
            <label class="btn btn-default">用户姓名:</label>
            <label id="name" class="btn btn-default"></label>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-4">
            <button id="btn1" class="btn btn-default">测试</button>
        </div>
        <div class="col-sm-offset-2 col-sm-10">
            <label class="btn btn-default">本地接口请求结果:</label>
            <label id="test1" class="btn btn-default"></label>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-4">
            <button id="btn2" class="btn btn-default">测试</button>
        </div>
        <div class="col-sm-offset-2 col-sm-10">
            <label class="btn btn-default">外域其他接口请求结果:</label>
            <label id="test2" class="btn btn-default"></label>
        </div>
    </div>

</div>

</body>
</html>